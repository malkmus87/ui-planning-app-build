{"version":3,"sources":["settings.js","_components/_lowlevel/Buttons.js","_classes/CookieHandler.js","_components/_lowlevel/TextInput.js","_components/PlanningCreator.js","_classes/JsonRequestHandler.js","_components/_midlevel/ActionRow.js","_components/_midlevel/Goal.js","_components/GoalList.js","_functions/generateGoal.js","_components/_midlevel/Evaluation.js","_components/_lowlevel/ProgressMeter.js","_classes/GoalRequestHandler.js","_components/GoalOverview.js","_components/OverviewSetup.js","_classes/YearHelper.js","_classes/MonthHelper.js","_components/_lowlevel/StickyList.js","_functions/general.js","_components/MonthlyWeekOverview.js","_functions/generateEvaluation.js","_redux/actions.js","_components/LongTermPlanning.js","_components/ProtectedRoute.js","_components/LoginComponent.js","_redux/store.js","_redux/reducers.js","Content.js","index.js"],"names":["months","goalTypesToArrayName","shorttermgoal","endgoal","yearlygoal","monthlygoal","dailygoal","weeklygoal","evaluation","jsonRequestHandler","JsonRequestHandler","mainPath","BackwardsButton","props","style","className","onClick","AddButton","styleType","addIcon","fontSize","assignmnentIcon","marginleft","paddingTop","console","log","assignmentIcon","SaveButton","color","display","overflow","undefined","Object","assign","ResetButton","CookieHandler","name","document","cookie","value","length","requestedName","cookies","split","requestedCookie","forEach","TextInput","onChange","type","event","preventDefault","target","FlexibleTextInput","placeHolder","useState","shiftDown","setShiftDown","usedStyle","height","tempStyle","onKeyDown","key","forcedRows","onKeyUp","newRow","newValue","extra","spellCheck","order","description","label","PlanningCreator","setState","active","submitted","state","nextStep","step","onFinalSubmit","goBackward","lastStep","slice","lastValue","submittedObject","submit","tempSubmittedObject","this","React","Component","setMainPath","tokenCookieName","headers","from","url","bearerToken","cookieHandler","getCookie","fetch","method","response","to","jsonConvertedValue","JSON","stringify","body","id","ActionRow","onSave","onReset","marginRight","ShortTermGoal","setInitialState","initialTodo","todo","mounted","componentDidMount","componentDidReceiveProps","prevProps","onInputChange","onCheckBoxClick","finished","onGoalChange","input","borderRadius","main","padding","width","getStyle","onSubmit","GoalList","shortTermGoals","goalStyle","map","shortTermGoal","i","generateGoal","month","year","week","day","generalAttributes","longTermPlanningID","Evaluation","onEvaluationChange","text","initialText","background","borderBottom","ProgressMeter","progress","progressInPercent","toString","requestHandler","newGoal","post","json","newData","status","_id","countProgress","shortTermGoalsWithText","filter","connect","visibleYear","visibleMonth","goals","addGoalToMainState","identifier","addGoal","a","goalRequestHandler","paddingRight","marginTop","minWidth","EndOverview","MonthOverview","YearOverview","marginBottom","YearHelper","MonthHelper","getLastDay","date","getFirstDay","yearHelper","lengthOfFirstWeek","getFirstDayOfYear","weekNumber","restOfDaysBeforeMonth","getNumberOfDaysPerMonth","reduce","b","number","firstDay","numberOfDays","firstWeek","getFirstWeek","dayDistribution","lastDayOfWeek","tempDayDistribution","getDay","Date","getDate","ButtonList","labels","onButtonClick","buttonStyle","activeIndex","value1","value2","StickyList","stickAtHeight","rest","actualHeight","top","paddingBottom","onlyUnique","index","self","indexOf","filterBy","items","keyToValue","keys","values","item","bool","identify","identified","assignToArray","array","affectedIndex","findIndexWithIdentifier","WeekPlanning","dailyGoals","weekGoals","weekDays","goal","weekDay","dayNumber","MonthlyWeekOverview","weeklyGoals","getDayDistribution","includedWeeks","indexOfVisibleWeek","setIndexOfVisibleWeek","generateEvaluation","updateVisibleYear","newVisibleYear","payload","updateVisibleMonth","newVisibleMonth","updateLongTermPlanningID","newLongTermPlanningID","LongTermPlanning","arrayStateKey","goalList","goalID","patchID","onStateChange","newState","addEvaluation","evaluationList","evaluations","addedValue","evaluationID","onUpdateVisibleYear","getFullYear","get","longTermPlanning","endGoals","yearlyGoals","monthlyGoals","getMonth","years","start","end","push","range","parseInt","startYear","expectedEndYear","newActiveIndex","margin","onUpdateVisibleMonth","minHeight","isWeekPlanningVisible","fontWeight","dispatch","bindActionCreators","onUpdateLongTermPlanningID","ProtectedRoute","component","fallback","isAuthorized","render","UserCreator","password","setPassword","username","setUsername","repeatedPassword","setRepeatedPassword","email","setEmail","LoginComponent","onVerifiedLogin","userCreatorVisibility","setUserCreatorVisibility","data","setCookie","token","userID","toggleUserCreatorVisibility","allStoreEnhancers","compose","window","devToolsExtension","allReducers","combineReducers","longTermplanningID","store","createStore","Content","longTermPlannings","createPlanning","planning","newPlanning","user","onLogout","App","verifyLoginStatus","removeCookie","removeUser","setUser","userData","authData","textAlign","path","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.7235af10.chunk.js","sourcesContent":["import JsonRequestHandler from './_classes/JsonRequestHandler';\r\n\r\n//const APP_API_URL=process.env.REACT_APP_LOCAL_API_PATH;\r\nconst APP_API_URL='https://planning-app-backend.azurewebsites.net';\r\nconst months = [\r\n    \"Januari\",\r\n    \"Februari\",\r\n    \"Mars\",\r\n    \"April\",\r\n    \"Maj\",\r\n    \"Juni\",\r\n    \"Juli\",\r\n    \"Augusti\",\r\n    \"September\",\r\n    \"Oktober\",\r\n    \"November\",\r\n    \"December\",\r\n];\r\nconst goalTypesToArrayName={\r\n    shorttermgoal:\"shortTermGoals\",\r\n    endgoal:\"endGoals\",\r\n    yearlygoal:\"yearlyGoals\",\r\n    monthlygoal:\"monthlyGoals\",\r\n    dailygoal:\"dailyGoals\",\r\n    weeklygoal:\"weeklyGoals\",\r\n    evaluation:\"evaluations\"\r\n}\r\n\r\nconst jsonRequestHandler=new JsonRequestHandler({mainPath:APP_API_URL});\r\n\r\nconst ignite=()=>{\r\n    const planningCreator=require('./_components/PlanningCreator');\r\n    module.exports = require(\"./index.js\").BrowserRouter;   \r\n}\r\n\r\n\r\nexport {months,goalTypesToArrayName,ignite,jsonRequestHandler};","import React from 'react';\r\nimport './Buttons.css';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport BackspaceIcon from '@material-ui/icons/Backspace';\r\nconst BackwardsButton = (props) =>\r\n    <div\r\n        style={props.style}\r\n        className=\"BackwardsButton\"\r\n        onClick={props.onClick}\r\n    >\r\n        <div className=\"BackwardsButtonArrow\"/>\r\n        <div className=\"BackwardsButtonInner\"></div>\r\n    </div>\r\n;\r\nconst AddButton = (props) =>{\r\n    const style=props.styleType===\"small\" ? \r\n    {\r\n\r\n    }:\r\n    {\r\n        addIcon:{fontSize:20},\r\n        assignmnentIcon:{fontSize:\"16px\",marginleft:-5,paddingTop:-3}\r\n    }\r\n    ;\r\n    console.log(style.addIcon);\r\n    return(\r\n        <button \r\n            className=\"AddButton\" \r\n            onClick={props.onClick}\r\n        >   \r\n\r\n            <AssignmentIcon style={style.assignmentIcon} className=\"Icon\"/>\r\n            <AddIcon style={style.addIcon} className=\"Icon\"/>\r\n        </button>\r\n    );\r\n}\r\n    \r\n;\r\nconst SaveButton = (props) =>{\r\n    var style={fontSize:\"20px\",color:\"darkgreen\",display:\"inline-block\",overflow:\"visible\"};\r\n    if(props.style!==undefined && typeof props.style==='object'){\r\n        const tempStyle=style;\r\n        style=Object.assign(style,props.style);\r\n    }\r\n    return(\r\n<SaveAltIcon onClick={props.onClick} \r\n            style={style} className=\"SaveIcon\"/>\r\n    )\r\n}\r\n\r\n        \r\n\r\n;\r\nconst ResetButton = (props) =>{\r\n    var style={fontSize:\"20px\",display:\"inline-block\",color:\"#ED213A\",overflow:\"visible\"};\r\n    if(props.style!==undefined && typeof props.style==='object'){\r\n        const tempStyle=style;\r\n        style=Object.assign(style,props.style);\r\n    }\r\n    return(\r\n        <BackspaceIcon\r\n            style={style}\r\n            onClick={props.onClick}\r\n            className=\"DeleteIcon\"\r\n        />\r\n    )\r\n    \r\n\r\n}\r\nconst DeleteButton=(props)=>{\r\n    var style={fontSize:\"20px\",display:\"inline-block\",color:\"#ED213A\",overflow:\"visible\"};\r\n    if(props.style!==undefined && typeof props.style==='object'){\r\n        const tempStyle=style;\r\n        style=Object.assign(style,props.style);\r\n    }\r\n    return(\r\n        <DeleteForeverIcon\r\n            style={style}\r\n            onClick={props.onClick}\r\n            className=\"DeleteIcon\"\r\n        />\r\n    )\r\n}\r\n    \r\n;\r\n\r\n    // <div\r\n    //     className=\"DeleteButton\"\r\n    // >\r\n    //     <p>{props.label}</p>\r\n        \r\n\r\n    // </div>\r\n;\r\nexport {BackwardsButton,AddButton,SaveButton,ResetButton,DeleteButton};\r\n","class CookieHandler{\r\n    constructor(){\r\n    }\r\n    removeCookie(name){\r\n        document.cookie=name+'=;  expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n    }\r\n    setCookie(name,value){\r\n        if(name.length>0 && value!==undefined>0){\r\n            document.cookie=name+'='+value+';';\r\n        }\r\n    }\r\n    getCookie(requestedName){\r\n        let cookies=document.cookie.split(';');\r\n        let requestedCookie='';\r\n        cookies.forEach(cookie=>{\r\n            const [name,value]=cookie.split('=');\r\n            if(name===requestedName){\r\n                requestedCookie=value;\r\n            }\r\n        })\r\n        return requestedCookie;\r\n    }\r\n}\r\nexport default new CookieHandler();","import React, { useState } from 'react';\r\nimport './TextInput.css';\r\nconst TextInput = ({ name, value, onChange, style }) =>\r\n    <input\r\n        style={style}\r\n        type=\"text\"\r\n        onChange={\r\n            (event) => {\r\n                event.preventDefault();\r\n                onChange({ [event.target.name]: event.target.value });\r\n            }}\r\n        name={name}\r\n        value={value}\r\n    />\r\n    ;\r\nconst FlexibleTextInput = ({ name, value, onChange, style,placeHolder}) => {\r\n    \r\n    const [shiftDown,setShiftDown]=useState(false);\r\n    var numberOfRows=value.split('\\n').length;\r\n    const onKeyDown=(event)=>{\r\n        // if(event.key==='Shift' && shiftDown===false){\r\n        //     setShiftDown(true);\r\n        // }    \r\n        // if (event.key===\"Enter\" && shiftDown){\r\n        //     event.preventDefault();\r\n        //     onSubmit({[name]:event.target.value});\r\n        // }\r\n        if(event.key===\" \"){\r\n            const forcedRows=value.split('\\n');\r\n            if(forcedRows[forcedRows.length-1].length===0){\r\n                event.preventDefault();\r\n            }\r\n        } \r\n    }\r\n    const onKeyUp=(event)=>{\r\n        if(event.key==='Shift' && shiftDown===true){\r\n            setShiftDown(false);\r\n        }\r\n    }\r\n    const onTextChange = (event) => {\r\n        var newRow=false;\r\n        var newValue=event.target.value;\r\n        if(event.target.value>value){\r\n            var forcedRows=newValue.split('\\n');\r\n            const lastRow=forcedRows[forcedRows.length-1];\r\n            if(lastRow.length===40){\r\n                newRow=true;        \r\n            }       \r\n        } \r\n        const extra=newRow ? '\\n':'';\r\n        onChange({\r\n            [name]:event.target.value+extra\r\n        });  \r\n        \r\n    }\r\n\r\n    // Ugly\r\n    var usedStyle={height:numberOfRows*40};\r\n    if(style!==undefined && style!==null){\r\n        var tempStyle=usedStyle;\r\n        usedStyle=Object.assign(style,tempStyle);\r\n    } \r\n    return (\r\n        <textarea\r\n            placeHolder={placeHolder}\r\n            className=\"TextArea\"\r\n            style={usedStyle}\r\n            onKeyDown={onKeyDown}\r\n            onKeyUp={onKeyUp}\r\n            onChange={onTextChange}\r\n            spellCheck=\"false\"\r\n            name={name}\r\n            value={value}\r\n        />\r\n    );\r\n}\r\nconst findSomething = () =>{\r\n    // let i=lastRow.length-1;\r\n    //             var foundWhiteSpace=false;\r\n    //             while(i>=0 && !foundWhiteSpace){\r\n    //                 if(lastRow[i]===\" \"){\r\n    //                     foundWhiteSpace=true;\r\n    //                 }\r\n    //                 i--;\r\n    //             }\r\n    //             forcedRows[forcedRows.length-1].slice(i+1);\r\n}\r\nexport {TextInput,FlexibleTextInput};","import React from \"react\";\r\nimport { TextInput } from './_lowlevel/TextInput';\r\nimport './PlanningCreator.css';\r\nimport { BackwardsButton } from '../_components/_lowlevel/Buttons';\r\nconst order = [\r\n  { name: \"name\", description: \"Namnge din planering\", label: \"Name\" },\r\n  { name: \"description\", description: \"Beskriv din planering kort\", label: \"Description\" },\r\n  { name: \"expectedEndYear\", description: \"Vilket år vill du uppnå slutmålet?\", label: \"Expected end year\" }\r\n];\r\n\r\nexport default class PlanningCreator extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      step: 0,\r\n      value: \"\",\r\n      submitted: []\r\n    };\r\n  }\r\n  onChange = (newValue) => {\r\n    this.setState({ ...newValue });\r\n  };\r\n\r\n  onKeyDown = (event, active) => {\r\n    if (event.key === \"Enter\") {\r\n      const submitted = [...this.state.submitted, { name: active.name, value: this.state.value, label: active.label }];\r\n      const nextStep = this.state.step >= order.length - 1 ? this.state.step : this.state.step + 1;\r\n      this.setState({ step: nextStep, value: \"\", submitted: submitted });\r\n      if (this.state.step === nextStep) {\r\n        this.onFinalSubmit(submitted);\r\n      }\r\n    }\r\n  }\r\n\r\n  goBackward = () => {\r\n    const lastStep = this.state.step - 1;\r\n    const submitted = this.state.submitted.slice(0, -1);\r\n    const lastValue = this.state.submitted[this.state.submitted.length - 1].value;\r\n    this.setState({ step: lastStep, submitted: submitted, value: lastValue });\r\n  }\r\n\r\n  onFinalSubmit = (submitted) => {\r\n    let submittedObject = {};\r\n    submitted.forEach(submit => {\r\n      const tempSubmittedObject = submittedObject;\r\n      submittedObject = {...tempSubmittedObject, [submit.name]: submit.value };\r\n    })\r\n    this.props.onFinalSubmit(submittedObject);\r\n  }\r\n\r\n  render() {\r\n    const active = order[this.state.step];\r\n    return (\r\n      <div\r\n        className=\"Creator\"\r\n        onKeyDown={(event) => this.onKeyDown(event, active)}\r\n      >\r\n        <div>\r\n          <label>{active.description}</label>\r\n          <TextInput\r\n            name=\"value\"\r\n            value={this.state.value}\r\n            onChange={this.onChange}\r\n          />\r\n        </div>\r\n        {this.state.step > 0 ?\r\n          <BackwardsButton\r\n            onClick={this.goBackward}\r\n          />\r\n          : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import cookieHandler from './CookieHandler';\r\nexport default class JsonRequestHandler{\r\n    constructor({mainPath}){\r\n        this.setMainPath(mainPath);\r\n        this.tokenCookieName='token';     \r\n        this.headers={\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n    setTokenCookieName(name){\r\n        this.tokenCookieName=name;\r\n    }\r\n    setMainPath(mainPath){\r\n        this.mainPath=mainPath;\r\n    }\r\n    setHeaders(headers){\r\n        this.headers={\r\n            ...headers,\r\n            'Content-Type':'application/json'\r\n        }\r\n    }\r\n    async get(from){\r\n        const url=this.mainPath+'/'+from;\r\n        const bearerToken='Bearer '+cookieHandler.getCookie(this.tokenCookieName);\r\n        const response=await fetch(\r\n            url,\r\n            {\r\n               method:'get',\r\n               headers:{\r\n                   ...this.headers,\r\n                   'Authorization':bearerToken\r\n               }\r\n            }\r\n        );\r\n        return response;\r\n    }\r\n    async post(to,value){\r\n        const url=this.mainPath+'/'+to;\r\n        const jsonConvertedValue=JSON.stringify(value);\r\n        const bearerToken='Bearer '+cookieHandler.getCookie(this.tokenCookieName);\r\n        const response=await fetch(\r\n            url,\r\n            {\r\n              method:'post',\r\n              headers:{\r\n                  ...this.headers,\r\n                  'Authorization':bearerToken\r\n              },\r\n              body:jsonConvertedValue\r\n            }\r\n        );\r\n        return response;\r\n    }\r\n    async patchID(to,id,value){\r\n        const url=this.mainPath+'/'+to+'/'+id;\r\n        const jsonConvertedValue=JSON.stringify(value);\r\n        const response=await fetch(\r\n            url,\r\n            {\r\n              method:'PATCH',\r\n              headers:this.headers,\r\n              body:jsonConvertedValue\r\n            }\r\n        );\r\n        return response;\r\n    }\r\n}","import React from 'react';\r\nimport {SaveButton,ResetButton} from '../../_components/_lowlevel/Buttons';\r\nimport './ActionRow.css';\r\nconst ActionRow = ({ onSave, onReset }) =>\r\n    <div className=\"ActionRow\">\r\n        <SaveButton\r\n            onClick={onSave}\r\n            style={{ marginRight: 20 }}\r\n        />\r\n        <ResetButton\r\n            onClick={onReset}\r\n            style={{ marginRight: 20 }}\r\n        />\r\n    </div>\r\n;\r\nexport default ActionRow;","import React from 'react';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport './Goal.css';\r\nimport {FlexibleTextInput} from '../_lowlevel/TextInput';\r\nimport ActionRow from '../_midlevel/ActionRow';\r\n\r\nconst getStyle = (type) => {\r\n    switch (type) {\r\n        case(\"dailygoal\"):\r\n            return {\r\n                input:{borderRadius:\"4px 0 0 1px\"},\r\n                main:{padding:0,width:\"100%\",display:\"inline-block\"}\r\n            }\r\n        default:\r\n            return {\r\n                input: {borderRadius:\"4px 0 0 1px\"},\r\n                main: { width: \"100%\"}\r\n            };\r\n    }\r\n}\r\nexport default class ShortTermGoal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            initialTodo: \"\",\r\n            todo: \"\"\r\n        }\r\n    }\r\n    setInitialState = () => {\r\n        this.setState({ initialTodo: this.props.todo, todo: this.props.todo, mounted: true });\r\n    }\r\n    componentDidMount = () => {\r\n        this.setInitialState();\r\n    }\r\n    componentDidReceiveProps = (prevProps) => {\r\n        if (this.props['_id'] !== prevProps['_id'] || this.props.todo!==prevProps.todo) {\r\n            this.setInitialState();\r\n        }\r\n    }\r\n    onInputChange = (newValue) => {\r\n        this.setState({ ...newValue });\r\n    }\r\n    onCheckBoxClick = () => {\r\n        let finished = this.props.finished ? false:true;\r\n        this.props.onGoalChange(this.props.type, this.props['_id'], { finished: finished });\r\n    }\r\n    onSave = ()=>{\r\n        if(this.state.todo.length>0){\r\n            this.setState({initialTodo:this.state.todo,todo:this.state.todo});\r\n            this.props.onGoalChange(this.props.type, this.props['_id'], { todo:this.state.todo });         \r\n        }    \r\n    }\r\n    onReset = ()=>{\r\n        this.setState({todo:this.state.initialTodo});\r\n    }\r\n    render() {\r\n        const style = getStyle(this.props.styleType);\r\n        return (\r\n            this.state.mounted ?\r\n                <div className=\"Goal\" style={style.main} key={this.props['_id']}>\r\n                    <div className=\"InputRow\">\r\n                        <FlexibleTextInput\r\n                            name=\"todo\"\r\n                            value={this.state.todo}\r\n                            style={style.input}\r\n                            placeHolder={this.props.placeHolder !==undefined ? this.props.placeHolder:\"Beskriv ditt mål\"}\r\n                            onChange={this.onInputChange}\r\n                            onSubmit={this.onSave}\r\n                     \r\n                        />\r\n                        {this.state.initialTodo.length>0 ?\r\n                        <div\r\n                            className=\"CheckIconWrapper\"\r\n                            onClick={this.onCheckBoxClick}\r\n                        >\r\n                            {this.props.finished ?\r\n                                <CheckIcon\r\n                                    className=\"CheckIcon\"\r\n                                /> : null\r\n                            }\r\n                        </div>\r\n                        :null\r\n                        }\r\n                    </div>\r\n                    {this.state.todo !== this.state.initialTodo ?\r\n                        <ActionRow\r\n                            onSave={this.onSave}\r\n                            onReset={this.onReset}\r\n                            style={{marginRight:20}}\r\n                        />\r\n                        : null\r\n                    }\r\n                   \r\n                </div>\r\n                : null\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Goal from './_midlevel/Goal';\r\nimport './GoalList.css';\r\nconst GoalList = ({shortTermGoals,onGoalChange,style,goalStyle}) =>\r\n    <div className=\"GoalList\">\r\n        {shortTermGoals.length > 0 ? \r\n            shortTermGoals.map((shortTermGoal,i) =>\r\n                <div className=\"StandardRow\">\r\n                <Goal\r\n                    {...shortTermGoal}\r\n                    onGoalChange={onGoalChange}\r\n                    style={goalStyle} \r\n                />\r\n                </div>\r\n            ): \r\n            <div className=\"NoItemsComponent\">Inga mål tillagda</div>\r\n        }\r\n    </div>\r\n;\r\nexport default GoalList;","const generateGoal=({type,month,year,week,day,todo,longTermPlanningID})=>{\r\n    const generalAttributes={\r\n      todo:todo!==undefined ? todo:\"\",\r\n      longTermPlanningID:longTermPlanningID,\r\n      type:type\r\n    }\r\n    switch(type){\r\n        case \"endgoal\":\r\n            return {...generalAttributes}\r\n        case \"yearlygoal\":\r\n            return {...generalAttributes,year:year};\r\n        case \"monthlygoal\":\r\n            return {...generalAttributes,month:month,year:year}\r\n        case \"weeklygoal\":\r\n            return {...generalAttributes,year:year,month:month,week:week}\r\n        case \"dailygoal\":\r\n            return {...generalAttributes,year:year,month:month,week:week,day:day} \r\n        default:\r\n            return {...generalAttributes,month:month,year:year};\r\n    }\r\n}\r\nexport default generateGoal;","import React,{useState} from 'react';\r\nimport {FlexibleTextInput} from '../_lowlevel/TextInput';\r\nimport ActionRow from '../_midlevel/ActionRow';\r\nimport './Evaluation.css';\r\nclass Evaluation extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.setInitialState();\r\n    }\r\n    componentDidUpdate(prevProps){\r\n        console.log(this.props.evaluation['_id']);\r\n        if (this.props.evaluation['_id'] !== prevProps.evaluation['_id']) {\r\n            this.setInitialState();\r\n        }\r\n    }\r\n    onInputChange = (newValue) => {\r\n        this.setState({ ...newValue });\r\n    }\r\n    setInitialState(){\r\n        this.setState({ initialText: this.props.evaluation.text, text: this.props.evaluation.text, mounted: true });\r\n    }\r\n    onSave = ()=>{\r\n        var id=false;\r\n        if(this.props.evaluation['_id']!==undefined){\r\n            id=this.props.evaluation['_id'];\r\n        }\r\n        this.props.onEvaluationChange(this.props.type,id,{text:this.state.text}); \r\n    }\r\n    onReset = ()=>{\r\n        this.setState({text:this.state.initialText});\r\n    }\r\n    render(){\r\n        return(\r\n            this.state.text!==undefined ?\r\n            <div className=\"Evaluation\" style={this.props.style}>\r\n            <p className=\"ProgressParagraph\">Utvärdering</p>\r\n            <FlexibleTextInput\r\n                name=\"text\"\r\n                value={this.state.text}\r\n                placeHolder=\"Skriv vad som gått bra och dåligt\"\r\n                style={{width:\"calc(100% - 15px)\",background:\"transparent\",borderBottom:\"3px grey solid\"}}  \r\n                onChange={this.onInputChange}\r\n            />\r\n            {this.state.initialText!==this.state.text ? \r\n                <ActionRow\r\n                    onSave={this.onSave}\r\n                    onReset={this.onReset}\r\n                />\r\n                :null\r\n            }\r\n            \r\n        </div>\r\n        :null\r\n        )\r\n    }\r\n}\r\nexport default Evaluation;","import React from 'react';\r\nimport './ProgressMeter.css';\r\nconst ProgressMeter = ({ progress, style }) => {\r\n    const progressInPercent = (progress * 100).toString() + \"%\";\r\n    return (\r\n        <div className=\"ProgressMeter\" style={style}>\r\n            <p className=\"ProgressParagraph\">Framsteg</p>\r\n            <div className=\"ProgressWrapper\">\r\n                <div className=\"Progress\" style={{ width: progressInPercent }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ProgressMeter;","import generateGoal from '../_functions/generateGoal';\r\nimport {jsonRequestHandler} from '../settings';\r\nclass GoalRequestHandler {\r\n    constructor() {\r\n        this.requestHandler = jsonRequestHandler;\r\n    }\r\n    async post(value) {\r\n        const newGoal = generateGoal(value);\r\n        const response = await this.requestHandler.post('shorttermgoal', value);\r\n        const newData = await response.json();\r\n        return(\r\n            response.status===200 ? \r\n                {\r\n                    ...newGoal,\r\n                    _id: newData['_id']\r\n                }\r\n                :\r\n                false\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default new GoalRequestHandler();","import React from 'react';\r\nimport { AddButton } from '../_components/_lowlevel/Buttons';\r\nimport GoalList from '../_components/GoalList';\r\nimport './GoalOverview.css';\r\nimport generateGoal from '../_functions/generateGoal';\r\nimport Evaluation from '../_components/_midlevel/Evaluation';\r\nimport ProgressMeter from '../_components/_lowlevel/ProgressMeter';\r\nimport goalRequestHandler from '../_classes/GoalRequestHandler';\r\nimport {connect} from 'react-redux';\r\n\r\nconst countProgress = (shortTermGoals) => {\r\n    if (shortTermGoals === undefined) {\r\n        return 0;\r\n    }\r\n    const shortTermGoalsWithText = shortTermGoals.filter(shortTermGoal =>\r\n        shortTermGoal.todo.length > 0\r\n    );\r\n    const finishedGoals = shortTermGoalsWithText.filter(shortTermGoal =>\r\n        shortTermGoal.finished === true\r\n    );\r\n    return finishedGoals.length / shortTermGoalsWithText.length;\r\n}\r\n\r\n\r\nconst GoalOverview = ({ goals, addGoalToMainState, onGoalChange, onEvaluationChange, type, style, evaluation, identifier,visibleYear,visibleMonth }) => {\r\n    const addGoal = async () => {\r\n        console.log(visibleYear);\r\n        const newGoal = await goalRequestHandler.post(\r\n            generateGoal({\r\n                month:visibleMonth,\r\n                longTermPlanningID:identifier.longTermPlanningID,\r\n                year:visibleYear,\r\n                type: type + 'goal'\r\n            })\r\n        );\r\n        if (newGoal !== false) {\r\n            return addGoalToMainState(newGoal);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"GoalOverview\" style={style}>\r\n            <div className=\"GoalOverviewContent\">\r\n                <GoalList\r\n                    shortTermGoals={goals}\r\n                    onGoalChange={onGoalChange}\r\n                />\r\n                <div className=\"StandardCenteredRow\">\r\n                    <AddButton\r\n                        onClick={addGoal}\r\n                        style={{ color: \"green\", fontSize: 22 }}\r\n                        label=\"Lägg till\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"StandardRow\">\r\n                <Evaluation\r\n                    evaluation={evaluation !== undefined ? evaluation : { text: \"\" }}\r\n                    type={type}\r\n                    onEvaluationChange={onEvaluationChange}\r\n                    style={{ width: \"calc(70% - 200px)\", paddingRight: \"30%\", marginTop: 10, minWidth: 300, overflow: \"hidden\" }}\r\n                />\r\n                <ProgressMeter\r\n                    progress={countProgress(goals)}\r\n                    style={{ width: 200, marginTop: 10, minWidth: 200, overflow: \"hidden\" }}\r\n\r\n                />\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nconst mapStateToProps= (state,props) => {\r\n    return{\r\n        visibleYear:state.visibleYear,\r\n        visibleMonth:state.visibleMonth\r\n    }  \r\n};\r\nexport default connect(mapStateToProps)(GoalOverview);","import React from 'react';\r\nimport GoalOverview from './GoalOverview';\r\n\r\nconst EndOverview = (props) =>\r\n    <div>\r\n        <div className=\"EndTitle\">\r\n            <h2>{\"Huvudmål\"}</h2>\r\n        </div>\r\n        <GoalOverview\r\n            {...props}\r\n            type=\"end\"\r\n        />\r\n    </div>\r\n    ;\r\n\r\nconst MonthOverview = (props) => \r\n        <GoalOverview\r\n            {...props}\r\n            type=\"monthly\"\r\n            label={\"Mål för månad: \"}\r\n        />\r\n    ;\r\n\r\nconst YearOverview = (props) =>\r\n    <div style={{ marginBottom: 80}}>\r\n        <GoalOverview\r\n            {...props}\r\n            type=\"yearly\"\r\n        />\r\n    </div>\r\n;\r\n\r\nconst DayOverview = (props) => \r\n    <div>\r\n        <GoalOverview\r\n            {...props}\r\n            type=\"daily\"\r\n            label={\"Mål för månad: \"}\r\n        />\r\n    </div>\r\n;\r\nexport {MonthOverview, YearOverview, EndOverview, DayOverview };","import MonthHelper from '../_classes/MonthHelper';\r\nclass YearHelper{\r\n    constructor(year){\r\n        this.year=year;\r\n    }\r\n    getNumberOfDaysPerMonth(){\r\n        const months=[1,2,3,4,5,6,7,8,9,10,11,12];\r\n        return(\r\n            months.map(month=>\r\n                new MonthHelper(this.year,month-1).getLastDay().date\r\n            )\r\n        )\r\n    }\r\n    getFirstDayOfYear(){\r\n        return(\r\n            new MonthHelper(this.year,0).getFirstDay()\r\n        );\r\n    }\r\n}\r\nexport default YearHelper;","import YearHelper from '../_classes/YearHelper';\r\n\r\nclass MonthHelper{\r\n    constructor(year,month){\r\n        this.month=month;\r\n        this.year=year;\r\n    }\r\n    getFirstWeek(){\r\n        const yearHelper=new YearHelper(this.year);\r\n        const lengthOfFirstWeek=7-yearHelper.getFirstDayOfYear().day;\r\n        const totalOfDaysBeforeMonth=yearHelper\r\n            .getNumberOfDaysPerMonth()\r\n            .slice(0,this.month)\r\n            .reduce((a,b)=>a+b,0)\r\n        ;\r\n        \r\n        var weekNumber=1;\r\n        var restOfDaysBeforeMonth=totalOfDaysBeforeMonth-lengthOfFirstWeek; \r\n        \r\n        while(restOfDaysBeforeMonth>=7){\r\n            restOfDaysBeforeMonth=restOfDaysBeforeMonth-7;\r\n            weekNumber++;\r\n        }\r\n\r\n        return({number:weekNumber,firstDay:restOfDaysBeforeMonth});\r\n    }\r\n    getDayDistribution(){\r\n        const numberOfDays=this.getLastDay().date;\r\n        const firstWeek=this.getFirstWeek();\r\n        \r\n        var dayDistribution=[];\r\n\r\n        var weekNumber=firstWeek.number;\r\n        var lastDayOfWeek=7-firstWeek.firstDay+1;\r\n\r\n        for(let day=1;day<=numberOfDays;day++){  \r\n            const tempDayDistribution=dayDistribution;\r\n            dayDistribution=[...tempDayDistribution,{...this.getDay(day),weekNumber:weekNumber}];\r\n            if(day===lastDayOfWeek){\r\n                weekNumber=weekNumber+1;\r\n                lastDayOfWeek=lastDayOfWeek+7;\r\n            }\r\n        }\r\n        return dayDistribution;\r\n    }\r\n    getDay(i){\r\n        const date=new Date(this.year,this.month,i);\r\n        const weekDays=[\"Söndag\",\"Måndag\",\"Tisdag\",\"Onsdag\",\"Torsdag\",\"Fredag\",\"Lördag\"];\r\n        return({\r\n            day:date.getDay(),\r\n            name:weekDays[date.getDay()],\r\n            date:date.getDate(),\r\n            month:this.month\r\n        });\r\n    }\r\n    getFirstDay(){\r\n        const date=new Date(this.year,this.month,1);\r\n        const weekDays=[\"Söndag\",\"Måndag\",\"Tisdag\",\"Onsdag\",\"Torsdag\",\"Fredag\",\"Lördag\"];\r\n        return({\r\n            day:date.getDay(),\r\n            name:weekDays[date.getDay()],\r\n            date:date.getDate(),\r\n            month:this.month\r\n        });\r\n    }\r\n    getLastDay(){\r\n        const date=new Date(this.year,this.month+1,0);\r\n        const weekDays=[\"Söndag\",\"Måndag\",\"Tisdag\",\"Onsdag\",\"Torsdag\",\"Fredag\",\"Lördag\"];\r\n        return({\r\n            day:date.getDay(),\r\n            name:weekDays[date.getDay()],\r\n            date:date.getDate(),\r\n            month:this.month\r\n        });\r\n    }\r\n}\r\nexport default MonthHelper;","import React from 'react';\r\nimport './StickyList.css';\r\nconst StickyList = ({stickAtHeight,height,style,...rest}) => {\r\n    const actualHeight=height-10;\r\n\r\n    return (\r\n        <div className=\"StickyList\" style={{...style,top:stickAtHeight,height:actualHeight, paddingTop:10,paddingBottom:5}}>\r\n            <ButtonList\r\n                {...rest}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nconst ButtonList = ({labels,onButtonClick,buttonStyle,activeIndex}) => \r\n    <div className=\"ButtonList\">\r\n    {labels.map((label, i) => (\r\n        <button\r\n            style={{...getStyle(i,activeIndex),...buttonStyle}}\r\n            onClick={() => onButtonClick(i)}\r\n        >\r\n            {label}\r\n        </button>\r\n    ))}\r\n    </div>\r\n;\r\nconst getStyle = (value1, value2) => {\r\n    return value2.toString() === value1.toString()\r\n        ? { borderBottom: \"3px steelblue solid\", marginBottom: -3 }\r\n        : {};\r\n};\r\nexport default StickyList\r\n\r\nexport {ButtonList};","function range(start,end){\r\n    let array=[];\r\n    for(let i=start;i<=end;i++){\r\n      array.push(i);\r\n    }\r\n    return array;\r\n}\r\n\r\nconst groupBy = (array,key) =>{\r\n  var object={};\r\n  array.forEach(item=>{\r\n      const tempObject={\r\n          ...object,\r\n          [item[key]]:item\r\n      };\r\n      object=tempObject;\r\n  });\r\n  return object;\r\n}\r\n\r\nfunction onlyUnique(value, index, self) { \r\n  return self.indexOf(value) === index;\r\n}\r\n\r\nfunction filterBy(items,keyToValue){\r\n  const valueIsValid=(value)=> (value!==undefined && value!==null);\r\n  const keys=Object.keys(keyToValue);\r\n        const values=Object.values(keyToValue);\r\n        const filteredItems=items.filter(item=>{\r\n            var bool=true;\r\n            keys.forEach((key,i)=>{\r\n                if(valueIsValid(item[key]) && item[key].toString()!==values[i].toString()){\r\n                    bool=false\r\n                }\r\n            })\r\n            return bool;\r\n        })\r\n    return filteredItems;\r\n}\r\n\r\nconst identify = (identifier,item)=>{\r\n  const keys=Object.keys(identifier);\r\n  var identified=true;\r\n  keys.forEach(key=>{\r\n    if(item[key]!==identifier[key]){\r\n      identified=false;\r\n    }\r\n  });\r\n  return identified;\r\n}\r\n\r\nconst findIndexWithIdentifier=(array,identifier)=>{\r\n  var index=0;\r\n  while(index<array.length){\r\n    const item=array[index];\r\n    if(identify(identifier,item)){\r\n      return index;\r\n    }\r\n    index++; \r\n  }\r\n  return false;\r\n}\r\n\r\nconst assignToArray= (array,identifier,newValue)=>{\r\n  var affectedIndex=identifier;\r\n  if(typeof identifier===\"object\"){\r\n    affectedIndex=findIndexWithIdentifier(array,identifier,newValue);\r\n  }\r\n  return(\r\n    [\r\n      ...array.slice(0,affectedIndex),\r\n      {\r\n        ...array[affectedIndex],\r\n        ...newValue\r\n      },\r\n      ...array.slice(affectedIndex+1)\r\n    ]\r\n  )\r\n}\r\n\r\nexport {assignToArray,range,findIndexWithIdentifier,filterBy,onlyUnique,groupBy};","import React, { useState } from 'react';\r\nimport './MonthlyWeekOverview.css';\r\nimport MonthHelper from '../_classes/MonthHelper';\r\nimport { months } from '../settings'\r\nimport ButtonList from '../_components/_lowlevel/StickyList';\r\nimport { filterBy, groupBy, onlyUnique } from '../_functions/general';\r\nimport generateGoal from '../_functions/generateGoal';\r\nimport Goal from '../_components/_midlevel/Goal';\r\nimport { AddButton } from '../_components/_lowlevel/Buttons';\r\nimport goalRequestHandler from '../_classes/GoalRequestHandler';\r\nimport Evaluation from '../_components/_midlevel/Evaluation';\r\n\r\n\r\nconst MonthlyWeekOverview = ({ dailyGoals, weeklyGoals, addGoalToMainState, onGoalChange, identifier, onEvaluationChange, evaluation }) => {\r\n\r\n    var dayDistribution = new MonthHelper(identifier.year, identifier.month).getDayDistribution();\r\n\r\n    const includedWeeks = dayDistribution\r\n        .map(day => day.weekNumber)\r\n        .filter(onlyUnique)\r\n        ;\r\n    const [indexOfVisibleWeek, setIndexOfVisibleWeek] = useState(0);\r\n\r\n    const addGoal = async (day) => {\r\n        const newGoal = await goalRequestHandler.post(\r\n            generateGoal({\r\n                ...identifier,\r\n                ...day,\r\n                week: includedWeeks[indexOfVisibleWeek]\r\n            })\r\n\r\n        );\r\n        if (newGoal !== false) {\r\n            addGoalToMainState(newGoal);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"WeekOverview\">\r\n            <h3>Veckoplanering för {months[identifier.month]}</h3>\r\n            <ButtonList\r\n                labels={includedWeeks.map(weekNumber => \"v.\" + weekNumber.toString())}\r\n                onButtonClick={setIndexOfVisibleWeek}\r\n                activeIndex={indexOfVisibleWeek}\r\n                buttonStyle={{ fontSize: 16 }}\r\n            />\r\n            <WeekPlanning\r\n                dailyGoals={filterBy(dailyGoals, { week: includedWeeks[indexOfVisibleWeek] })}\r\n                weekGoals={filterBy(weeklyGoals, { week: includedWeeks[indexOfVisibleWeek] })}\r\n                weekDays={\r\n                    dayDistribution.filter(day => day.weekNumber === includedWeeks[indexOfVisibleWeek]\r\n                )}\r\n                onGoalChange={onGoalChange}\r\n                addGoal={addGoal}\r\n                week={includedWeeks[indexOfVisibleWeek]}\r\n                onEvaluationChange={onEvaluationChange}\r\n                identifier={{ ...identifier, week: includedWeeks[indexOfVisibleWeek] }}\r\n            />\r\n            <Evaluation\r\n                evaluation={evaluation !== undefined ? evaluation : { text: \"\" }}\r\n                type='weekly'\r\n                onEvaluationChange={onEvaluationChange}\r\n                style={{ width: \"calc(70% - 200px)\", paddingRight: \"30%\", marginTop: 10, minWidth: 300, overflow: \"hidden\" }}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n// Daily goals data only gets saved if they have been saved once\r\nconst WeekPlanning = ({ dailyGoals, weekGoals, addGoal, onGoalChange, weekDays, onEvaluationChange }) => {\r\n    return (\r\n        <div className=\"Week\">\r\n            <div className=\"WeeklyGoals\">\r\n            <h3>Veckomål</h3>\r\n            {\r\n                weekGoals.map(goal =>\r\n                    <div className=\"StandardRow\">\r\n                        <Goal\r\n                            {...goal}\r\n                            onGoalChange={onGoalChange}\r\n                            placeHolder={\r\n                                'Beskriv aktivitet'\r\n                            }\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n            <AddButton\r\n                onClick={() => addGoal({ type: 'weeklygoal' })}\r\n                style={{ color: \"green\", fontSize: 12 }}\r\n                label=\"Lägg till\"\r\n            />\r\n            </div>\r\n            \r\n            <h3>Veckokalender</h3>\r\n            <div>\r\n            {weekDays.map((weekDay, dayNumber) =>\r\n                <div className=\"WeekDay\">\r\n                    <div className=\"Column\">\r\n                        <p className=\"DayName\">{weekDay.name}</p>\r\n                        <p>\r\n                            {weekDay.date + \"/\" + (weekDay.month + 1)}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"Column2\">\r\n                        {\r\n                            filterBy(dailyGoals, { day: weekDay.day }).map(goal =>\r\n                                <div className=\"StandardRow\">\r\n                                    <Goal\r\n                                        {...goal}\r\n                                        onGoalChange={onGoalChange}\r\n                                        placeHolder={\r\n                                            'Beskriv aktivitet'\r\n                                        }\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        }\r\n                        <div className=\"StandardCenteredRow\">\r\n                            <AddButton\r\n                                onClick={() => addGoal({ day: weekDay.day, type: 'dailygoal' })}\r\n                                style={{ color: \"green\", fontSize: 12 }}\r\n                                label=\"Lägg till\"\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            \r\n            )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MonthlyWeekOverview;","const generateEvaluation=({type,month,year,week,day,text,longTermPlanningID})=>{\r\n    const generalAttributes={\r\n      text:text!==undefined ? text:\"\", \r\n      longTermPlanningID:longTermPlanningID,\r\n      type:type\r\n    }\r\n    switch(type){\r\n        case \"end\":\r\n            return {...generalAttributes}\r\n        case \"yearly\":\r\n            return {...generalAttributes,year:year};\r\n        case \"monthly\":\r\n            return {...generalAttributes,month:month,year:year}\r\n        case \"weekly\":\r\n            return {...generalAttributes,year:year,month:month,week:week}\r\n        case \"daily\":\r\n            return {...generalAttributes,year:year,month:month,week:week,day:day} \r\n        default:\r\n            return {...generalAttributes,month:month,year:year};\r\n    }\r\n}\r\nexport default generateEvaluation;","export const UPDATE_VISIBLEYEAR='visibleYears:updateVisibleYear';\r\nexport function updateVisibleYear(newVisibleYear){\r\n   return({\r\n       type:UPDATE_VISIBLEYEAR,\r\n       payload:{\r\n           visibleYear:newVisibleYear\r\n       }\r\n   })\r\n}\r\nexport const UPDATE_VISIBLEMONTH='visibleMonths:updateVisibleMonth';\r\nexport function updateVisibleMonth(newVisibleMonth){\r\n    return({\r\n        type:UPDATE_VISIBLEMONTH,\r\n        payload:{\r\n            visibleMonth:newVisibleMonth\r\n        }\r\n    })\r\n}\r\nexport const UPDATE_LONGTERMPLANNINGID='longTermPlanningIDs:updateLongTermPlanningID';\r\nexport function updateLongTermPlanningID(newLongTermPlanningID){\r\n    return({\r\n        type:UPDATE_LONGTERMPLANNINGID,\r\n        payload:{\r\n            longTermPlanningID:newLongTermPlanningID\r\n        }\r\n    })\r\n}\r\n","import React from \"react\";\r\nimport \"./LongTermPlanning.css\";\r\nimport { months, goalTypesToArrayName, jsonRequestHandler } from \"../settings.js\";\r\nimport { MonthOverview, YearOverview, EndOverview } from '../_components/OverviewSetup';\r\nimport MonthlyWeekOverview from '../_components/MonthlyWeekOverview';\r\nimport { range, assignToArray, filterBy } from '../_functions/general';\r\nimport generateEvaluation from '../_functions/generateEvaluation';\r\nimport StickyList from '../_components/_lowlevel/StickyList';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {updateVisibleYear,updateVisibleMonth,updateLongTermPlanningID} from '../_redux/actions.js';\r\n\r\nvar date = new Date();\r\n\r\nclass LongTermPlanning extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visibleYear: date.getFullYear(),\r\n      visibleMonth: date.getMonth(),\r\n      mounted: false\r\n    };\r\n  }\r\n  addGoal = async (newGoal, key) => {\r\n    const arrayStateKey = goalTypesToArrayName[newGoal.type];\r\n    const goalList = this.state[arrayStateKey];\r\n    this.setState({\r\n      [arrayStateKey]: [\r\n        ...goalList,\r\n        { ...newGoal }\r\n      ]\r\n    });\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    await this.setInitialState();\r\n  };\r\n\r\n  onGoalChange = async (type, goalID, newValue) => {\r\n    const arrayStateKey = goalTypesToArrayName[type];\r\n    const response = await jsonRequestHandler.patchID('shorttermgoal', goalID, newValue);\r\n    if (response.status === 200) {\r\n      const goals = this.state[arrayStateKey];\r\n      this.setState({\r\n        [arrayStateKey]: assignToArray(goals, { _id: goalID }, newValue)\r\n      });\r\n    }\r\n  };\r\n\r\n  onStateChange = (newState) => {\r\n    this.setState({ ...newState });\r\n  }\r\n\r\n  addEvaluation = async (type, newValue) => {\r\n    const evaluationList = this.state.evaluations;\r\n    const addedValue = generateEvaluation(\r\n      {\r\n        ...newValue,\r\n        type: type,\r\n        month: this.props.visibleMonth,\r\n        year: this.props.visibleYear,\r\n        longTermPlanningID: this.state['_id']\r\n      }\r\n    );\r\n    const response = await jsonRequestHandler.post('evaluation', addedValue);\r\n    const newData = await response.json();\r\n    this.setState({\r\n      evaluations: [...evaluationList, { ...addedValue, _id: newData.id }]\r\n    })\r\n  }\r\n\r\n  onEvaluationChange = async (type, evaluationID, newValue) => {\r\n    if (evaluationID === false) {\r\n      this.addEvaluation(type, newValue);\r\n    } else {\r\n      const response = await jsonRequestHandler.patchID('evaluation', evaluationID, newValue);\r\n      const evaluationList = this.state.evaluations;\r\n      if (response.status === 200) {\r\n        this.setState({\r\n          evaluations: assignToArray(evaluationList, { _id: evaluationID }, newValue)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  setInitialState = async () => {\r\n    \r\n    this.props.onUpdateVisibleYear(date.getFullYear());\r\n    const response = await jsonRequestHandler.get('longtermplanning/' + this.props.id + '?detailed=true');\r\n    if (response.status === 200) {\r\n      const longTermPlanning = await response.json();\r\n      const goals = longTermPlanning.goals;\r\n      console.log(goals);\r\n      this.setState({\r\n        ...longTermPlanning,\r\n        endGoals: filterBy(goals, { type: \"endgoal\" }),\r\n        yearlyGoals: filterBy(goals, { type: \"yearlygoal\" }),\r\n        monthlyGoals: filterBy(goals, { type: \"monthlygoal\" }),\r\n        dailyGoals: filterBy(goals, { type: \"dailygoal\" }),\r\n        weeklyGoals: filterBy(goals, { type: \"weeklygoal\" }),\r\n        mounted: true\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const state = this.state;\r\n    const years = this.state.mounted ?\r\n      range(parseInt(state.startYear), parseInt(state.expectedEndYear)) :\r\n      []\r\n    ;\r\n    const identifier = {\r\n      year: this.props.visibleYear,\r\n      month: this.props.visibleMonth,\r\n      longTermPlanningID: this.state['_id']\r\n    }\r\n    return (\r\n      this.state.mounted === true ?\r\n        <div className=\"LongTermPlanning\">\r\n          <div className=\"LongTermPlanningTop\">\r\n            <div className=\"LongTermPlanningTopInner\">\r\n              <EndOverview\r\n                addGoalToMainState={this.addGoal}\r\n                onGoalChange={this.onGoalChange}\r\n                onEvaluationChange={this.onEvaluationChange}\r\n                goals={state.endGoals}\r\n                evaluation={filterBy(state.evaluations, { type: \"end\" })[0]}\r\n                identifier={identifier}\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n          <div className=\"LongTermPlanningInner\">\r\n            <StickyList\r\n              labels={years}\r\n              activeIndex={years.indexOf(this.props.visibleYear)}\r\n              height={49}\r\n              style={{ paddingTop: 20 }}\r\n              stickAtHeight={-1}\r\n              onButtonClick={(newActiveIndex) =>\r\n                this.props.onUpdateVisibleYear(years[newActiveIndex])\r\n              }\r\n            />\r\n            <div style={{ background: \"steelblue\", height: 5, width: \"90%\", margin: \"0 5% 0 5%\" }} />\r\n            <YearOverview\r\n              addGoalToMainState={this.addGoal}\r\n              onGoalChange={this.onGoalChange}\r\n              onEvaluationChange={this.onEvaluationChange}\r\n              goals={filterBy(state.yearlyGoals, { year: this.props.visibleYear })}\r\n              evaluation={filterBy(state.evaluations,{ year: this.props.visibleYear, type: \"yearly\" })[0]}\r\n              identifier={identifier}\r\n            />\r\n            <StickyList\r\n              labels={months}\r\n              activeIndex={this.props.visibleMonth}\r\n              buttonStyle={{ fontSize: 19 }}\r\n              height={49}\r\n              stickAtHeight={48}\r\n              // onButtonClick={(newActiveIndex) => this.onStateChange({ visibleMonth: newActiveIndex })}\r\n              onButtonClick={(newActiveIndex)=>this.props.onUpdateVisibleMonth(newActiveIndex.toString())}\r\n            />\r\n            <div style={{ minHeight: \"100%\" }}>\r\n              <MonthOverview\r\n                addGoalToMainState={this.addGoal}\r\n                onGoalChange={this.onGoalChange}\r\n                onEvaluationChange={this.onEvaluationChange}\r\n                goals={filterBy(state.monthlyGoals, { year: this.props.visibleYear, month: this.props.visibleMonth })\r\n                }\r\n                evaluation={\r\n                  filterBy(state.evaluations, { year: this.props.visibleYear, month: this.props.visibleMonth, type: \"monthly\" })[0]\r\n                }\r\n                identifier={identifier}\r\n              />\r\n              <div className=\"StandardCenteredRow\">\r\n                <button\r\n                  onClick={() => this.setState({ isWeekPlanningVisible: true })}\r\n                  style={{ fontSize: 16, fontWeight: 600, borderBottom: \"2px darkorange solid\", color: \"darkorange\" }}\r\n                >\r\n                  Gå till veckoplanering för månad\r\n              </button>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            {this.state.isWeekPlanningVisible ?\r\n              <div className=\"LargeComponent\"><div className=\"LargeComponentInner\">\r\n                <div className=\"StandardCenteredRow\">\r\n                  <button\r\n                    onClick={() => this.setState({ isWeekPlanningVisible: false })}\r\n                  >\r\n                    Tillbaka till översikt\r\n                </button>\r\n                </div>\r\n                <MonthlyWeekOverview\r\n                  addGoalToMainState={this.addGoal}\r\n                  onGoalChange={this.onGoalChange}\r\n                  onEvaluationChange={this.onEvaluationChange}\r\n                  dailyGoals={\r\n                    filterBy(state.dailyGoals, { year: this.props.visibleYear, month: this.props.visibleMonth })\r\n                  }\r\n                  weeklyGoals={\r\n                    filterBy(state.weeklyGoals, { year: this.props.visibleYear, month: this.props.visibleMonth })\r\n                  }\r\n                  evaluation={\r\n                    filterBy(state.evaluations, { year: this.props.visibleYear, month: this.props.visibleMonth, type: \"weekly\" })[0]\r\n                  }\r\n                  identifier={identifier}\r\n                />\r\n              </div></div> :\r\n              null\r\n            }\r\n\r\n          </div>\r\n        </div>\r\n        : null\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps= (state,props) => {\r\n  return{\r\n      visibleYear:state.visibleYear,\r\n      visibleMonth:state.visibleMonth,\r\n      longTermPlanningID:state.longTermPlanningID\r\n  }\r\n};\r\n\r\nconst mapActionToProps = (dispatch,props) =>{\r\n  return bindActionCreators(\r\n      {\r\n        onUpdateVisibleYear:updateVisibleYear,\r\n        onUpdateVisibleMonth:updateVisibleMonth,\r\n        onUpdateLongTermPlanningID:updateLongTermPlanningID\r\n      },\r\n      dispatch\r\n  );\r\n}\r\nexport default connect(mapStateToProps,mapActionToProps)(LongTermPlanning);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, fallback, isAuthorized: isAuthorized, ...rest }) =>\r\n    <Route\r\n        {...rest}\r\n        render={\r\n            () => {\r\n                if (isAuthorized) {\r\n                    return <Component {...rest} />\r\n\r\n                }\r\n                else {\r\n                    return (\r\n                        <Redirect to={fallback} />\r\n                    )\r\n                }\r\n            }\r\n        }\r\n    />\r\n    ;\r\nexport default ProtectedRoute;","import React, { useState } from 'react';\r\nimport JsonRequestHandler from '../_classes/JsonRequestHandler';\r\nimport cookieHandler from '../_classes/CookieHandler';\r\nimport './LoginComponent.css';\r\nconst jsonRequestHandler = new JsonRequestHandler({ mainPath: 'https://api-jonapp.herokuapp.com' });\r\n\r\nconst LoginComponent = ({ onVerifiedLogin }) => {\r\n    const [userCreatorVisibility,setUserCreatorVisibility] = useState(false);\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const onChange = (event) => {\r\n        switch (event.target.name) {\r\n            case (\"username\"):\r\n                setUsername(event.target.value);\r\n                break;\r\n            case (\"password\"):\r\n                setPassword(event.target.value);\r\n                break;\r\n        }\r\n    }\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const response = await jsonRequestHandler.post('auth/login', { username: username, password: password });\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n            cookieHandler.setCookie(\"token\", data.token);\r\n            onVerifiedLogin(data.userID);\r\n        }\r\n    }\r\n\r\n    const toggleUserCreatorVisibility = async (event) => {\r\n        const newValue=userCreatorVisibility ? false:true;\r\n        setUserCreatorVisibility(newValue);\r\n    }\r\n\r\n    return (\r\n        <div className=\"LoginComponent\">\r\n            {!userCreatorVisibility ?\r\n            <div>\r\n            <form className=\"LoginForm\" onSubmit={onSubmit}>\r\n                <label>Användarnamn</label>\r\n                <input \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={username} \r\n                    name=\"username\" \r\n                />\r\n                <label>Lösenord</label>\r\n                <input \r\n                    type=\"password\" \r\n                    onChange={onChange} \r\n                    value={password} \r\n                    name=\"password\" \r\n                />\r\n                <input type=\"Submit\" value=\"Logga in\" />\r\n\r\n            </form>\r\n            <div style={{marginTop:20}}>\r\n                        <button className=\"Create-User-Button\" onClick={toggleUserCreatorVisibility}>Skapa inloggning</button>\r\n            </div>\r\n               \r\n            </div>:<UserCreator/>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UserCreator = () => {\r\n    const [password,setPassword]=useState('');\r\n    const [username,setUsername]=useState('');\r\n    const [repeatedPassword,setRepeatedPassword]=useState('');\r\n    const [email,setEmail]=useState('');\r\n\r\n    const onChange = (event) => {\r\n        switch (event.target.name) {\r\n            case (\"username\"):\r\n                setUsername(event.target.value);\r\n                break;\r\n            case (\"password\"):\r\n                setPassword(event.target.value);\r\n                break;\r\n            case (\"repeatedPassword\"):\r\n                setRepeatedPassword(event.target.value);\r\n                break;\r\n            case (\"email\"):\r\n                setEmail(event.target.value);\r\n                break;   \r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <label>Användarnamn</label>\r\n                <input \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={username} \r\n                    name=\"username\" \r\n                />\r\n                <label>Email</label>\r\n                <input \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={email} \r\n                    name=\"email\" \r\n                />\r\n                <label>Lösenord</label>\r\n                <input \r\n                    type=\"password\" \r\n                    onChange={onChange} \r\n                    value={password} \r\n                    name=\"password\" \r\n                />\r\n                <label>Upprepa lösenord</label>\r\n                <input \r\n                    type=\"password\" \r\n                    onChange={onChange} \r\n                    value={repeatedPassword} \r\n                    name=\"repeatedPassword\" \r\n                />\r\n                <input type=\"Submit\" value=\"Skapa\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginComponent;","import {compose,combineReducers,createStore} from 'redux';\r\nimport {visibleYearReducer,visibleMonthReducer,longTermPlanningIDReducer} from './reducers';\r\nconst allStoreEnhancers=compose(\r\n    window.devToolsExtension && window.devToolsExtension()\r\n);\r\nconst allReducers=combineReducers({\r\n        visibleYear:visibleYearReducer,\r\n        longTermplanningID:longTermPlanningIDReducer,\r\n        visibleMonth:visibleMonthReducer\r\n});\r\n\r\nexport const store=createStore(\r\n    allReducers,\r\n    {\r\n        visibleMonth:\"\",\r\n        longTermPlanningID:null,\r\n        visibleYear:\"\"\r\n    },\r\n    allStoreEnhancers\r\n);","import {UPDATE_VISIBLEYEAR,UPDATE_VISIBLEMONTH,UPDATE_LONGTERMPLANNINGID} from './actions.js';\r\nexport function visibleYearReducer(state=\"\",{type,payload}) {\r\n    switch(type){\r\n        case UPDATE_VISIBLEYEAR:\r\n            return payload.visibleYear;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport function visibleMonthReducer(state=\"\",{type,payload}){\r\n    switch(type){\r\n        case UPDATE_VISIBLEMONTH:\r\n            return payload.visibleMonth;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport function longTermPlanningIDReducer(state=\"\",{type,payload}){\r\n    switch(type){\r\n        case UPDATE_LONGTERMPLANNINGID:\r\n            return payload.longTermPlanningID;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {jsonRequestHandler} from './settings.js';\r\nimport LongTermPlanning from './_components/LongTermPlanning';\r\nimport PlanningCreator from './_components/PlanningCreator';\r\nimport {updateLongTermPlanningID} from './_redux/actions';\r\nimport {bindActionCreators} from 'redux';\r\nclass Content extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        data: [],\r\n        longTermPlanningID: null,\r\n        mounted: false\r\n      }\r\n    }\r\n  \r\n    setInitialState = async () => {\r\n      const response=await jsonRequestHandler.get('longtermplanning/search?q='+this.props.username);\r\n      if (response.status === 200) {\r\n       \r\n        const longTermPlannings = await response.json();\r\n        if (longTermPlannings.length > 0) {\r\n         this.props.onUpdateLongTermPlanningID(longTermPlannings[0].id);\r\n          this.setState({\r\n            longTermPlanningID: longTermPlannings[0].id\r\n          });\r\n        }\r\n      }\r\n    }\r\n    componentDidMount = async () => {\r\n      await this.setInitialState();\r\n      this.setState({mounted:true});\r\n    }\r\n    createPlanning = async (planning) => {\r\n      const newPlanning = Object.assign(planning, { user: this.props.username });\r\n      await jsonRequestHandler.post('longtermplanning', newPlanning);\r\n      this.setInitialState();\r\n  \r\n    }\r\n    render() {\r\n      const state = this.state;\r\n      return (\r\n        state.mounted ?\r\n          <div className=\"Content\">\r\n            <button \r\n              name=\"logout\" \r\n              className=\"LogoutButton\" \r\n                onClick={\r\n                  (event)=>{\r\n                    event.preventDefault();\r\n                    console.log(\"logout\");\r\n                    this.props.onLogout();\r\n              }}\r\n            >Logga ut</button>\r\n            {state.longTermPlanningID === null ?\r\n              <div className=\"StandardRow\" style={{ marginTop: \"25vh\" }}>\r\n                <p style={{ marginBottom: 30 }}>Du har inte skapat någon planering</p>\r\n                <PlanningCreator\r\n                  onFinalSubmit={this.createPlanning}\r\n                />\r\n              </div> :\r\n              <LongTermPlanning\r\n                id={this.state.longTermPlanningID}\r\n              />\r\n            }\r\n          </div>\r\n          : null\r\n      )\r\n    }\r\n  }\r\nconst mapActionToProps = (dispatch,props) =>{\r\n    return bindActionCreators(\r\n        {\r\n          onUpdateLongTermPlanningID:updateLongTermPlanningID\r\n        },\r\n        dispatch\r\n    );\r\n  }\r\nconst mapStateToProps= (state,props) => {\r\n    return{\r\n        longTermPlanningID:state.longTermPlanningID\r\n    }  \r\n};\r\n\r\nexport default connect(mapStateToProps,mapActionToProps)(Content);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {jsonRequestHandler} from './settings.js';\r\nimport LongTermPlanning from './_components/LongTermPlanning';\r\nimport PlanningCreator from './_components/PlanningCreator';\r\nimport ProtectedRoute from './_components/ProtectedRoute';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport LoginComponent from './_components/LoginComponent';\r\nimport cookieHandler from './_classes/CookieHandler';\r\nimport {Provider} from 'react-redux';\r\nimport {store} from './_redux/store.js';\r\nimport Content from './Content.js';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userID: null,\r\n      username:null,\r\n      mounted: false\r\n    }\r\n  }\r\n  componentDidMount = async () => {\r\n    await this.verifyLoginStatus();\r\n  }\r\n  onLogout = () =>{\r\n    console.log(\"Logout\");\r\n    cookieHandler.removeCookie('token');\r\n    this.removeUser();\r\n\r\n  }\r\n  removeUser = () =>{\r\n    this.setState({\r\n      userID:null,\r\n      username:null\r\n    })\r\n  }\r\n  setUser = async (userID) => {\r\n\r\n    const response=await jsonRequestHandler.get('user/'+userID);\r\n    const userData=await response.json();\r\n    if(response.status===200){\r\n      this.setState({\r\n        userID: userData.userID,\r\n        username:userData.username\r\n      })\r\n    }\r\n  }\r\n  verifyLoginStatus = async () => {\r\n    const response = await jsonRequestHandler.post('auth/verify', {});\r\n    if (response.status === 200) {\r\n      const data = await response.json();\r\n      await this.setUser(data.authData.userID); \r\n    }\r\n    this.setState({mounted:true})\r\n  }\r\n  render() {\r\n    const isAuthorized=this.state.username !== null;\r\n    return (\r\n      this.state.mounted ?\r\n        <div className=\"Body\" style={{ width: \"100%\", textAlign: \"center\" }}>\r\n          <Router>\r\n            <Switch>\r\n              <div style={{ display: \"inline-block\" }}>\r\n                <ProtectedRoute\r\n                  path=\"/\"\r\n                  component={\r\n                    () => <Content username={this.state.username} onLogout={this.onLogout}/>\r\n                  }\r\n                  isAuthorized={isAuthorized}\r\n                  fallback=\"/login\"\r\n                />\r\n                <ProtectedRoute\r\n                  path=\"/login\"\r\n                  component={\r\n                    () => <LoginComponent onVerifiedLogin={this.setUser} />\r\n                  }\r\n                  fallback='/'\r\n                  isAuthorized={!isAuthorized}\r\n                />\r\n              </div>\r\n            </Switch>\r\n          </Router>\r\n        </div>\r\n        : null\r\n    )\r\n  }\r\n}\r\n\r\n// class Content extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       data: [],\r\n//       longTermPlanningID: null,\r\n//       mounted: false\r\n//     }\r\n//   }\r\n\r\n//   setInitialState = async () => {\r\n//     const response=await jsonRequestHandler.get('longtermplanning/search?q='+this.props.username);\r\n//     if (response.status === 200) {\r\n     \r\n//       const longTermPlannings = await response.json();\r\n//       if (longTermPlannings.length > 0) {\r\n//         this.setState({\r\n//           longTermPlanningID: longTermPlannings[0].id\r\n//         });\r\n//       }\r\n//     }\r\n//   }\r\n//   componentDidMount = async () => {\r\n//     await this.setInitialState();\r\n//     this.setState({mounted:true});\r\n//   }\r\n//   createPlanning = async (planning) => {\r\n//     const newPlanning = Object.assign(planning, { user: this.props.username });\r\n//     await jsonRequestHandler.post('longtermplanning', newPlanning);\r\n//     this.setInitialState();\r\n//   }\r\n//   render() {\r\n//     const state = this.state;\r\n//     return (\r\n//       state.mounted ?\r\n//         <div className=\"Content\">\r\n//           <button \r\n//             name=\"logout\" \r\n//             className=\"LogoutButton\" \r\n//               onClick={\r\n//                 (event)=>{\r\n//                   event.preventDefault();\r\n//                   console.log(\"logout\");\r\n//                   this.props.onLogout();\r\n//             }}\r\n//           >Logga ut</button>\r\n//           {state.longTermPlanningID === null ?\r\n//             <div className=\"StandardRow\" style={{ marginTop: \"25vh\" }}>\r\n//               <p style={{ marginBottom: 30 }}>Du har inte skapat någon planering</p>\r\n//               <PlanningCreator\r\n//                 onFinalSubmit={this.createPlanning}\r\n//               />\r\n//             </div> :\r\n//             <LongTermPlanning\r\n//               id={this.state.longTermPlanningID}\r\n//             />\r\n//           }\r\n//         </div>\r\n//         : null\r\n//     )\r\n//   }\r\n// }\r\nReactDOM.render(\r\n  <Provider store={store}><App /></Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}